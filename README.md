<p align="center"><a href="https://github.com/lq9958/form-render4-vue3-pro" target="_blank" rel="noopener noreferrer"><img width="150" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF8WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTA1LTA2VDIxOjM2OjMxKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTA1LTA2VDIxOjM2OjMxKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0wNS0wNlQyMTozNjozMSswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmMDg1NjMyNi1hMWNmLTc4NDMtYTgxNy1kNmZiNWFiMzBmZWUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmNjJjOTdjMy1kODc3LWE0NGUtYmZlZi0xZTg3MDNkNTg2ZGMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNjczYTA5MC01Y2EyLWU1NGYtYmMxYS0zZGU4YWI1ZDZlMDkiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI2NzNhMDkwLTVjYTItZTU0Zi1iYzFhLTNkZThhYjVkNmUwOSIgc3RFdnQ6d2hlbj0iMjAyMy0wNS0wNlQyMTozNjozMSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmMDg1NjMyNi1hMWNmLTc4NDMtYTgxNy1kNmZiNWFiMzBmZWUiIHN0RXZ0OndoZW49IjIwMjMtMDUtMDZUMjE6MzY6MzErMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7FyO+IAAAOvklEQVR4nO3dfZRdVXnH8e+dyRvJJMzklRBJEB0MFkICaoEWGgMEKaIib2MwRtGiVMOFCFIQ00WNFFRADLRVSoVETBAtuLBxOYK4BsoSSwuIUCqlpqE2BQyTCYHMy33pH8+M4mKy59xzzzn7vPw+a7GSwLmzn5D55Zzz7HP2LtXrdURkdC2+CxBJMwVExEEBEXFQQEQcFBARBwVExEEBEXFQQEQcFBARBwVExEEBEXFQQEQcFBARBwVExEEBEXFQQEQcFBARBwVExEEBEXFQQEQc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" alt="Vue logo"></a></p>

<h1 align="center">Form-Render4-Vue3-Pro</h1>

> form-render4-vue3-pro 是基于 vue3 + arco-design 的表单生成组件，组件包含了日常使用的表单组件，意在解决项目日常开发中表单代码重复书写的问题，提高开发效率。目前该项目还在增加更多的特性。

[Playground](https://lq9958.github.io/)

## 新增特性

2023-5-6

- ✅ 新增自定义表单选项组件

---

- ✅ 支持 form-item 中的嵌套
- ✅ 数据项和 schema 分离

## 数据项说明

组件的 item 项目前的优先级为 optionData > schema.data 组件会优先在 optionData 中查找该字段的数据源。如果未提供，组件将尝试在 schema 的 data 字段中获取数据源，如果均为提供组件将会抛出异常。

## 如何使用

### 安装

```
npm install form-render4-vue3-pro --save
```

```javascript
// main.js
import { createApp } from 'vue'
import FormRender4Vue3 from 'form-render4-vue3-pro'
import App from './App.vue'

const app = createApp(App)
app.use(FormRender4Vue3)
app.mount('#app')
```

```vue
<template>
  <!-- 你的组件 -->
  <div>
    <form-render4-vue3-pro
      :schema="schema"
      v-model="formData"
      :option-data="optionData"
    />
  </div>
</template>

<script setup>
import { reactive } from 'vue'

const formData = reactive({})
const optionData = reactive({
  address: {
    list: [
      {
        label: '北京',
        value: 'beijing',
      },
      {
        label: '上海',
        value: 'shanghai',
      },
      {
        label: '深圳',
        value: 'shenzhen',
      },
      {
        label: '成都',
        value: 'chengdu',
      },
    ],
    label: 'label',
    value: 'value',
  },
})
const schema = reactive({
  fields: [
    {
      type: 'input',
      title: '姓名',
      field: 'name',
      value: '',
      props: {
        placeholder: '输入姓名',
      },
    },
    {
      type: 'input',
      title: '年龄',
      field: 'age',
      value: '',
      props: {
        type: 'number',
        placeholder: '输入年龄',
      },
    },
    {
      type: 'number',
      title: '工作时长(年)',
      field: 'experience',
      value: '',
      props: {
        step: 0.5,
      },
    },
    {
      type: 'select',
      title: '现居地',
      field: 'address',
      value: '',
      props: {
        placeholder: '选择现居地',
      },
      data: {
        list: [
          {
            label: '北京',
            value: 'beijing',
          },
          {
            label: '上海',
            value: 'shanghai',
          },
          {
            label: '深圳',
            value: 'shenzhen',
          },
          {
            label: '成都',
            value: 'chengdu',
          },
        ],
        label: 'label',
        value: 'value',
      },
    },
    {
      type: 'radio',
      title: '性别',
      field: 'gender',
      value: '',
      data: {
        list: [
          {
            label: '男',
            value: 'man',
          },
          {
            label: '女',
            value: 'woman',
          },
          {
            label: '男女',
            value: 'woman&man',
          },
        ],
        label: 'label',
        value: 'value',
      },
    },
    {
      type: 'checkbox',
      title: '爱好',
      field: 'likes',
      value: '',
      data: {
        list: [
          {
            label: '唱',
            value: 'song',
          },
          {
            label: '跳',
            value: 'dance',
          },
          {
            label: 'rap',
            value: 'rap',
          },
          {
            label: '篮球',
            value: 'basketball',
          },
        ],
        label: 'label',
        value: 'value',
      },
    },
    {
      type: 'slider',
      title: '身高',
      field: 'height',
      value: '',
      props: {
        min: 100,
        max: 200,
      },
    },
    {
      type: 'switch',
      title: '信息公开',
      field: 'public',
      value: '',
    },
  ],
  props: {
    layout: 'horizontal',
    labelAlign: 'left',
  },
})
</script>
```

## API
### <from-render4-vue3> Props
| 参数名 | 类型   | 描述                                                    | 是否必须 |
| -------- | ------ | --------------------------------------------------- | -------- |
| modelValue(v-model)   | Object  | 表单数据对象                           | Yes      |
| schema    | Object | 生成表单的JSON对象                                  | Yes       |
| optionData    | Object      | `select、checkbox、radio`等组件选项的数据源，也可在schema中提供，但是组件会优先在optionData中查找数据 | No       |

### <from-render4-vue3> Methods
| 方法名   | 描述   | 参数 | 返回值 |   
| -------- | --------|--------|--------| 
| validate | 校验表单全部数据   | - | Promise |  
| reset    | 重置表单字段   | -/string[] | void |  

### <form-render4-vue3> Slots
| 插槽名   | 描述   | 参数 |  
| -------- | --------|--------|
| footer | 页脚 | -  | -    |



## Schema 字段描述

| 字段名称 | 类型   | Description                                | 是否必须 |
| -------- | ------ | ------------------------------------------ | -------- |
| fields   | Array  | 生成表单项的数组                           | Yes      |
| rules    | Object | 使用方式参考 arco-design from 表单 rules   | No       |
| props    | -      | 使用方式参考 arco-design from 表单原生属性 | No       |
| column   | Number | 生成表单项的列数                          | Yes       |

### fields 字段描述

| 字段名称 | 类型   | Description                                                                | 是否必须 |
| -------- | ------ | -------------------------------------------------------------------------- | -------- |
| type     | String | 指定生成对应 arco-design 的组件，对应关系见下表 type                       | Yes      |
| title    | String | 表单项的名称                                                               | Yes      |
| field    | String | 表单项字段                                                                 | Yes      |
| value    | any    | 该表表单项的值                                                             | No       |
| props    | Object | 生成最终组件的 props 项，对应 arco-design 组件的 props                     | No       |
| data     | Object | 如果是生成下拉组件、多选框、单选时，提供该字段用于生成选项数据（不是必须） | No       |
| column   | Object | 该表单项独占多少列，宽度计算公式为 24/column | No       |

## 当前支持的组件

| type         | 对应的 arco-design 组件名 |
| ------------ | ------------------------- |
| input        | a-input                   |
| input-number | a-input-number            |
| checkbox     | a-checkbox                |
| radio        | a-radio                   |
| switch       | a-switch                  |
| slider       | a-slider                  |
| textarea     | a-textarea                |
| rate         | a-rate                    |
| 拼命开发中    | ...                       |
